var rough=function(){"use strict";function e(e,t,s){if(e&&e.length){let[r,l]=t,n=Math.PI/180*s,i=Math.cos(n),a=Math.sin(n);for(let o of e){let[h,u]=o;o[0]=(h-r)*i-(u-l)*a+r,o[1]=(h-r)*a+(u-l)*i+l}}}function t(e,t){return e[0]===t[0]&&e[1]===t[1]}function s(s,r){var l;let n=r.hachureAngle+90,i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return r.roughness>=1&&((null===(l=r.randomizer)||void 0===l?void 0:l.next())||Math.random())>.7&&(a=i),function s(r,l,n,i=1){let a=n,o=r[0]&&r[0][0]&&"number"==typeof r[0][0]?[r]:r,h=[0,0];if(a)for(let u of o)e(u,h,a);let p=function(e,s,r){let l=[];for(let n of e){let i=[...n];t(i[0],i[i.length-1])||i.push([i[0][0],i[0][1]]),i.length>2&&l.push(i)}let a=[];s=Math.max(s,.1);let o=[];for(let h of l)for(let u=0;u<h.length-1;u++){let p=h[u],f=h[u+1];if(p[1]!==f[1]){let $=Math.min(p[1],f[1]);o.push({ymin:$,ymax:Math.max(p[1],f[1]),x:$===p[1]?p[0]:f[0],islope:(f[0]-p[0])/(f[1]-p[1])})}}if(o.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!o.length)return a;let c=[],_=o[0].ymin,d=0;for(;c.length||o.length;){if(o.length){let g=-1;for(let k=0;k<o.length&&!(o[k].ymin>_);k++)g=k;o.splice(0,g+1).forEach(e=>{c.push({s:_,edge:e})})}if((c=c.filter(e=>!(e.edge.ymax<=_))).sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==r||d%s==0)&&c.length>1)for(let b=0;b<c.length;b+=2){let y=b+1;if(y>=c.length)break;let m=c[b].edge,P=c[y].edge;a.push([[Math.round(m.x),_],[Math.round(P.x),_]])}_+=r,c.forEach(e=>{e.edge.x=e.edge.x+r*e.edge.islope}),d++}return a}(o,Math.max(l,.1),i);if(a){for(let f of o)e(f,h,-a);!function(t,s,r){let l=[];t.forEach(e=>l.push(...e)),e(l,s,r)}(p,h,-a)}return p}(s,i,n,a||1)}class r{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let r=s(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){let s=[];for(let r of e)s.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return s}}function l(e){let t=e[0],s=e[1];return Math.sqrt(Math.pow(t[0]-s[0],2)+Math.pow(t[1]-s[1],2))}class n extends r{fillPolygons(e,t){let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let n=s(e,Object.assign({},t,{hachureGap:r})),i=Math.PI/180*t.hachureAngle,a=[],o=.5*r*Math.cos(i),h=.5*r*Math.sin(i);for(let[u,p]of n)l([u,p])&&a.push([[u[0]-o,u[1]+h],[...p]],[[u[0]+o,u[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}}class i extends r{fillPolygons(e,t){let s=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),l=this._fillPolygons(e,r);return s.ops=s.ops.concat(l.ops),s}}class a{constructor(e){this.helper=e}fillPolygons(e,t){let r=s(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){let s=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let n=t.fillWeight;n<0&&(n=t.strokeWidth/2);let i=r/4;for(let a of e){let o=l(a),h=o/r,u=Math.ceil(h)-1,p=o-u*r,f=(a[0][0]+a[1][0])/2-r/4,$=Math.min(a[0][1],a[1][1]);for(let c=0;c<u;c++){let _=$+p+c*r,d=f-i+2*Math.random()*i,g=_-i+2*Math.random()*i,k=this.helper.ellipse(d,g,n,n,t);s.push(...k.ops)}}return{type:"fillSketch",ops:s}}}class o{constructor(e){this.helper=e}fillPolygons(e,t){let r=s(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){let s=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,n=[];return e.forEach(e=>{let i=l(e),a=Math.floor(i/(s+r)),o=(i+r-a*(s+r))/2,h=e[0],u=e[1];h[0]>u[0]&&(h=e[1],u=e[0]);let p=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let f=0;f<a;f++){let $=f*(s+r),c=$+s,_=[h[0]+$*Math.cos(p)+o*Math.cos(p),h[1]+$*Math.sin(p)+o*Math.sin(p)],d=[h[0]+c*Math.cos(p)+o*Math.cos(p),h[1]+c*Math.sin(p)+o*Math.sin(p)];n.push(...this.helper.doubleLineOps(_[0],_[1],d[0],d[1],t))}}),n}}class h{constructor(e){this.helper=e}fillPolygons(e,t){let r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,l=t.zigzagOffset<0?r:t.zigzagOffset,n=s(e,t=Object.assign({},t,{hachureGap:r+l}));return{type:"fillSketch",ops:this.zigzagLines(n,l,t)}}zigzagLines(e,t,s){let r=[];return e.forEach(e=>{let n=l(e),i=Math.round(n/(2*t)),a=e[0],o=e[1];a[0]>o[0]&&(a=e[1],o=e[0]);let h=Math.atan((o[1]-a[1])/(o[0]-a[0]));for(let u=0;u<i;u++){let p=2*u*t,f=2*(u+1)*t,$=Math.sqrt(2*Math.pow(t,2)),c=[a[0]+p*Math.cos(h),a[1]+p*Math.sin(h)],_=[a[0]+f*Math.cos(h),a[1]+f*Math.sin(h)],d=[c[0]+$*Math.cos(h+Math.PI/4),c[1]+$*Math.sin(h+Math.PI/4)];r.push(...this.helper.doubleLineOps(c[0],c[1],d[0],d[1],s),...this.helper.doubleLineOps(d[0],d[1],_[0],_[1],s))}}),r}}let u={};class p{constructor(e){this.seed=e}next(){return this.seed?(2147483648-1&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}let f={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function $(e,t){return e.type===t}function c(e){let t=[],s=function(e){let t=[];for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",l=0,n=s[l];for(;!$(n,2);){let i=0,a=[];if("BOD"===r){if("M"!==n.text&&"m"!==n.text)return c("M0,0"+e);l++,i=f[n.text],r=n.text}else $(n,1)?i=f[r]:(l++,i=f[n.text],r=n.text);if(!(l+i<s.length))throw Error("Path data ended short");for(let o=l;o<l+i;o++){let h=s[o];if(!$(h,1))throw Error("Param not a number: "+r+","+h.text);a[a.length]=+h.text}if("number"!=typeof f[r])throw Error("Bad segment: "+r);{let u={key:r,data:a};t.push(u),l+=i,n=s[l],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function _(e){let t=0,s=0,r=0,l=0,n=[];for(let{key:i,data:a}of e)switch(i){case"M":n.push({key:"M",data:[...a]}),[t,s]=a,[r,l]=a;break;case"m":t+=a[0],s+=a[1],n.push({key:"M",data:[t,s]}),r=t,l=s;break;case"L":n.push({key:"L",data:[...a]}),[t,s]=a;break;case"l":t+=a[0],s+=a[1],n.push({key:"L",data:[t,s]});break;case"C":n.push({key:"C",data:[...a]}),t=a[4],s=a[5];break;case"c":{let o=a.map((e,r)=>r%2?e+s:e+t);n.push({key:"C",data:o}),t=o[4],s=o[5];break}case"Q":n.push({key:"Q",data:[...a]}),t=a[2],s=a[3];break;case"q":{let h=a.map((e,r)=>r%2?e+s:e+t);n.push({key:"Q",data:h}),t=h[2],s=h[3];break}case"A":n.push({key:"A",data:[...a]}),t=a[5],s=a[6];break;case"a":t+=a[5],s+=a[6],n.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,s]});break;case"H":n.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],n.push({key:"H",data:[t]});break;case"V":n.push({key:"V",data:[...a]}),s=a[0];break;case"v":s+=a[0],n.push({key:"V",data:[s]});break;case"S":n.push({key:"S",data:[...a]}),t=a[2],s=a[3];break;case"s":{let u=a.map((e,r)=>r%2?e+s:e+t);n.push({key:"S",data:u}),t=u[2],s=u[3];break}case"T":n.push({key:"T",data:[...a]}),t=a[0],s=a[1];break;case"t":t+=a[0],s+=a[1],n.push({key:"T",data:[t,s]});break;case"Z":case"z":n.push({key:"Z",data:[]}),t=r,s=l}return n}function d(e){let t=[],s="",r=0,l=0,n=0,i=0,a=0,o=0;for(let{key:h,data:u}of e){switch(h){case"M":t.push({key:"M",data:[...u]}),[r,l]=u,[n,i]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],l=u[5],a=u[2],o=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,l]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,l]});break;case"V":l=u[0],t.push({key:"L",data:[r,l]});break;case"S":{let p=0,f=0;"C"===s||"S"===s?(p=r+(r-a),f=l+(l-o)):(p=r,f=l),t.push({key:"C",data:[p,f,...u]}),a=u[0],o=u[1],r=u[2],l=u[3];break}case"T":{let[$,c]=u,_=0,d=0;"Q"===s||"T"===s?(_=r+(r-a),d=l+(l-o)):(_=r,d=l);let g=r+2*(_-r)/3,b=l+2*(d-l)/3,y=$+2*(_-$)/3,m=c+2*(d-c)/3;t.push({key:"C",data:[g,b,y,m,$,c]}),a=_,o=d,r=$,l=c;break}case"Q":{let[P,w,x,v]=u,S=r+2*(P-r)/3,O=l+2*(w-l)/3,L=x+2*(P-x)/3,T=v+2*(w-v)/3;t.push({key:"C",data:[S,O,L,T,x,v]}),a=P,o=w,r=x,l=v;break}case"A":{let D=Math.abs(u[0]),A=Math.abs(u[1]),I=u[2],C=u[3],z=u[4],M=u[5],W=u[6];0===D||0===A?(t.push({key:"C",data:[r,l,M,W,M,W]}),r=M,l=W):(r!==M||l!==W)&&(k(r,l,M,W,D,A,I,C,z).forEach(function(e){t.push({key:"C",data:e})}),r=M,l=W);break}case"Z":t.push({key:"Z",data:[]}),r=n,l=i}s=h}return t}function g(e,t,s){return[e*Math.cos(s)-t*Math.sin(s),e*Math.sin(s)+t*Math.cos(s)]}function k(e,t,s,r,l,n,i,a,o,h){var u;let p=Math.PI*(u=i)/180,f=[],$=0,c=0,_=0,d=0;if(h)[$,c,_,d]=h;else{[e,t]=g(e,t,-p),[s,r]=g(s,r,-p);let b=(e-s)/2,y=(t-r)/2,m=b*b/(l*l)+y*y/(n*n);m>1&&(l*=m=Math.sqrt(m),n*=m);let P=l*l,w=n*n,x=(a===o?-1:1)*Math.sqrt(Math.abs((P*w-P*y*y-w*b*b)/(P*y*y+w*b*b)));_=x*l*y/n+(e+s)/2,d=-(x*n)*b/l+(t+r)/2,$=Math.asin(parseFloat(((t-d)/n).toFixed(9))),c=Math.asin(parseFloat(((r-d)/n).toFixed(9))),e<_&&($=Math.PI-$),s<_&&(c=Math.PI-c),$<0&&($=2*Math.PI+$),c<0&&(c=2*Math.PI+c),o&&$>c&&($-=2*Math.PI),!o&&c>$&&(c-=2*Math.PI)}let v=c-$;if(Math.abs(v)>120*Math.PI/180){let S=c,O=s,L=r;f=k(s=_+l*Math.cos(c=o&&c>$?$+120*Math.PI/180*1:$+-(120*Math.PI/180*1)),r=d+n*Math.sin(c),O,L,l,n,i,0,o,[c,S,_,d])}v=c-$;let T=Math.cos($),D=Math.sin($),A=Math.cos(c),I=Math.sin(c),C=Math.tan(v/4),z=4/3*l*C,M=4/3*n*C,W=[e,t],G=[e+z*D,t-M*T],q=[s+z*I,r-M*A],E=[s,r];if(G[0]=2*W[0]-G[0],G[1]=2*W[1]-G[1],h)return[G,q,E].concat(f);{f=[G,q,E].concat(f);let R=[];for(let V=0;V<f.length;V+=3){let F=g(f[V][0],f[V][1],p),Z=g(f[V+1][0],f[V+1][1],p),Q=g(f[V+2][0],f[V+2][1],p);R.push([F[0],F[1],Z[0],Z[1],Q[0],Q[1]])}return R}}let b={randOffset:function(e,t){return I(e,t)},randOffsetWithRange:function(e,t,s){return A(e,t,s)},ellipse:function(e,t,s,r,l){let n=w(s,r,l);return x(e,t,l,n).opset},doubleLineOps:function(e,t,s,r,l){return C(e,t,s,r,l,!0)}};function y(e,t,s,r,l){return{type:"path",ops:C(e,t,s,r,l)}}function m(e,t,s){let r=(e||[]).length;if(r>2){let l=[];for(let n=0;n<r-1;n++)l.push(...C(e[n][0],e[n][1],e[n+1][0],e[n+1][1],s));return t&&l.push(...C(e[r-1][0],e[r-1][1],e[0][0],e[0][1],s)),{type:"path",ops:l}}return 2===r?y(e[0][0],e[0][1],e[1][0],e[1][1],s):{type:"path",ops:[]}}function P(e,t){if(e.length){let s="number"==typeof e[0][0]?[e]:e,r=M(s[0],1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:M(s[0],1.5*(1+.22*t.roughness),T(t));for(let n=1;n<s.length;n++){let i=s[n];if(i.length){let a=M(i,1*(1+.2*t.roughness),t),o=t.disableMultiStroke?[]:M(i,1.5*(1+.22*t.roughness),T(t));for(let h of a)"move"!==h.op&&r.push(h);for(let u of o)"move"!==u.op&&l.push(u)}}return{type:"path",ops:r.concat(l)}}return{type:"path",ops:[]}}function w(e,t,s){let r=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)))),l=Math.abs(e/2),n=Math.abs(t/2),i=1-s.curveFitting;return l+=I(l*i,s),n+=I(n*i,s),{increment:2*Math.PI/r,rx:l,ry:n}}function x(e,t,s,r){let[l,n]=G(r.increment,e,t,r.rx,r.ry,1,r.increment*A(.1,A(.4,1,s),s),s),i=W(l,null,s);if(!s.disableMultiStroke&&0!==s.roughness){let[a]=G(r.increment,e,t,r.rx,r.ry,1.5,0,s),o=W(a,null,s);i=i.concat(o)}return{estimatedPoints:n,opset:{type:"path",ops:i}}}function v(e,t,s,r,l,n,i,a,o){let h=e,u=t,p=Math.abs(s/2),f=Math.abs(r/2);p+=I(.01*p,o),f+=I(.01*f,o);let $=l,c=n;for(;$<0;)$+=2*Math.PI,c+=2*Math.PI;c-$>2*Math.PI&&($=0,c=2*Math.PI);let _=2*Math.PI/o.curveStepCount,d=Math.min(_/2,(c-$)/2),g=q(d,h,u,p,f,$,c,1,o);if(!o.disableMultiStroke){let k=q(d,h,u,p,f,$,c,1.5,o);g.push(...k)}return i&&(a?g.push(...C(h,u,h+p*Math.cos($),u+f*Math.sin($),o),...C(h,u,h+p*Math.cos(c),u+f*Math.sin(c),o)):g.push({op:"lineTo",data:[h,u]},{op:"lineTo",data:[h+p*Math.cos($),u+f*Math.sin($)]})),{type:"path",ops:g}}function S(e,t){let s=d(_(c(e))),r=[],l=[0,0],n=[0,0];for(let{key:i,data:a}of s)switch(i){case"M":n=[a[0],a[1]],l=[a[0],a[1]];break;case"L":r.push(...C(n[0],n[1],a[0],a[1],t)),n=[a[0],a[1]];break;case"C":{let[o,h,u,p,f,$]=a;r.push(...E(o,h,u,p,f,$,n,t)),n=[f,$];break}case"Z":r.push(...C(n[0],n[1],l[0],l[1],t)),n=[l[0],l[1]]}return{type:"path",ops:r}}function O(e,t){let s=[];for(let r of e)if(r.length){let l=t.maxRandomnessOffset||0,n=r.length;if(n>2){s.push({op:"move",data:[r[0][0]+I(l,t),r[0][1]+I(l,t)]});for(let i=1;i<n;i++)s.push({op:"lineTo",data:[r[i][0]+I(l,t),r[i][1]+I(l,t)]})}}return{type:"fillPath",ops:s}}function L(e,t){return(function(e,t){let s=e.fillStyle||"hachure";if(!u[s])switch(s){case"zigzag":u[s]||(u[s]=new n(t));break;case"cross-hatch":u[s]||(u[s]=new i(t));break;case"dots":u[s]||(u[s]=new a(t));break;case"dashed":u[s]||(u[s]=new o(t));break;case"zigzag-line":u[s]||(u[s]=new h(t));break;default:u[s="hachure"]||(u[s]=new r(t))}return u[s]})(t,b).fillPolygons(e,t)}function T(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function D(e){return e.randomizer||(e.randomizer=new p(e.seed||0)),e.randomizer.next()}function A(e,t,s,r=1){return s.roughness*r*(D(s)*(t-e)+e)}function I(e,t,s=1){return A(-e,e,t,s)}function C(e,t,s,r,l,n=!1){let i=n?l.disableMultiStrokeFill:l.disableMultiStroke,a=z(e,t,s,r,l,!0,!1);if(i)return a;let o=z(e,t,s,r,l,!0,!0);return a.concat(o)}function z(e,t,s,r,l,n,i){let a=Math.pow(e-s,2)+Math.pow(t-r,2),o=Math.sqrt(a),h=1;h=o<200?1:o>500?.4:-.0016668*o+1.233334;let u=l.maxRandomnessOffset||0;u*u*100>a&&(u=o/10);let p=u/2,f=.2+.2*D(l),$=l.bowing*l.maxRandomnessOffset*(r-t)/200,c=l.bowing*l.maxRandomnessOffset*(e-s)/200;$=I($,l,h),c=I(c,l,h);let _=[],d=()=>I(p,l,h),g=()=>I(u,l,h),k=l.preserveVertices;return n&&(i?_.push({op:"move",data:[e+(k?0:d()),t+(k?0:d())]}):_.push({op:"move",data:[e+(k?0:I(u,l,h)),t+(k?0:I(u,l,h))]})),i?_.push({op:"bcurveTo",data:[$+e+(s-e)*f+d(),c+t+(r-t)*f+d(),$+e+2*(s-e)*f+d(),c+t+2*(r-t)*f+d(),s+(k?0:d()),r+(k?0:d())]}):_.push({op:"bcurveTo",data:[$+e+(s-e)*f+g(),c+t+(r-t)*f+g(),$+e+2*(s-e)*f+g(),c+t+2*(r-t)*f+g(),s+(k?0:g()),r+(k?0:g())]}),_}function M(e,t,s){if(!e.length)return[];let r=[];r.push([e[0][0]+I(t,s),e[0][1]+I(t,s)]),r.push([e[0][0]+I(t,s),e[0][1]+I(t,s)]);for(let l=1;l<e.length;l++)r.push([e[l][0]+I(t,s),e[l][1]+I(t,s)]),l===e.length-1&&r.push([e[l][0]+I(t,s),e[l][1]+I(t,s)]);return W(r,null,s)}function W(e,t,s){let r=e.length,l=[];if(r>3){let n=[],i=1-s.curveTightness;l.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<r;a++){let o=e[a];n[0]=[o[0],o[1]],n[1]=[o[0]+(i*e[a+1][0]-i*e[a-1][0])/6,o[1]+(i*e[a+1][1]-i*e[a-1][1])/6],n[2]=[e[a+1][0]+(i*e[a][0]-i*e[a+2][0])/6,e[a+1][1]+(i*e[a][1]-i*e[a+2][1])/6],n[3]=[e[a+1][0],e[a+1][1]],l.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]})}if(t&&2===t.length){let h=s.maxRandomnessOffset;l.push({op:"lineTo",data:[t[0]+I(h,s),t[1]+I(h,s)]})}}else 3===r?(l.push({op:"move",data:[e[1][0],e[1][1]]}),l.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&l.push(...z(e[0][0],e[0][1],e[1][0],e[1][1],s,!0,!0));return l}function G(e,t,s,r,l,n,i,a){let o=[],h=[];if(0===a.roughness){e/=4,h.push([t+r*Math.cos(-e),s+l*Math.sin(-e)]);for(let u=0;u<=2*Math.PI;u+=e){let p=[t+r*Math.cos(u),s+l*Math.sin(u)];o.push(p),h.push(p)}h.push([t+1*r,s+0*l]),h.push([t+r*Math.cos(e),s+l*Math.sin(e)])}else{let f=I(.5,a)-Math.PI/2;h.push([I(n,a)+t+.9*r*Math.cos(f-e),I(n,a)+s+.9*l*Math.sin(f-e)]);let $=2*Math.PI+f-.01;for(let c=f;c<$;c+=e){let _=[I(n,a)+t+r*Math.cos(c),I(n,a)+s+l*Math.sin(c)];o.push(_),h.push(_)}h.push([I(n,a)+t+r*Math.cos(f+2*Math.PI+.5*i),I(n,a)+s+l*Math.sin(f+2*Math.PI+.5*i)]),h.push([I(n,a)+t+.98*r*Math.cos(f+i),I(n,a)+s+.98*l*Math.sin(f+i)]),h.push([I(n,a)+t+.9*r*Math.cos(f+.5*i),I(n,a)+s+.9*l*Math.sin(f+.5*i)])}return[h,o]}function q(e,t,s,r,l,n,i,a,o){let h=n+I(.1,o),u=[];u.push([I(a,o)+t+.9*r*Math.cos(h-e),I(a,o)+s+.9*l*Math.sin(h-e)]);for(let p=h;p<=i;p+=e)u.push([I(a,o)+t+r*Math.cos(p),I(a,o)+s+l*Math.sin(p)]);return u.push([t+r*Math.cos(i),s+l*Math.sin(i)]),u.push([t+r*Math.cos(i),s+l*Math.sin(i)]),W(u,null,o)}function E(e,t,s,r,l,n,i,a){let o=[],h=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3],u=[0,0],p=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let $=0;$<p;$++)0===$?o.push({op:"move",data:[i[0],i[1]]}):o.push({op:"move",data:[i[0]+(f?0:I(h[0],a)),i[1]+(f?0:I(h[0],a))]}),u=f?[l,n]:[l+I(h[$],a),n+I(h[$],a)],o.push({op:"bcurveTo",data:[e+I(h[$],a),t+I(h[$],a),s+I(h[$],a),r+I(h[$],a),u[0],u[1]]});return o}function R(e){return[...e]}function V(e,t=0){let s=e.length;if(s<3)throw Error("A curve must have at least three points.");let r=[];if(3===s)r.push(R(e[0]),R(e[1]),R(e[2]),R(e[2]));else{let l=[];l.push(e[0],e[0]);for(let n=1;n<e.length;n++)l.push(e[n]),n===e.length-1&&l.push(e[n]);let i=[],a=1-t;r.push(R(l[0]));for(let o=1;o+2<l.length;o++){let h=l[o];i[0]=[h[0],h[1]],i[1]=[h[0]+(a*l[o+1][0]-a*l[o-1][0])/6,h[1]+(a*l[o+1][1]-a*l[o-1][1])/6],i[2]=[l[o+1][0]+(a*l[o][0]-a*l[o+2][0])/6,l[o+1][1]+(a*l[o][1]-a*l[o+2][1])/6],i[3]=[l[o+1][0],l[o+1][1]],r.push(i[1],i[2],i[3])}}return r}function F(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Z(e,t,s){let r=F(t,s);if(0===r)return F(e,t);let l=((e[0]-t[0])*(s[0]-t[0])+(e[1]-t[1])*(s[1]-t[1]))/r;return F(e,Q(t,s,l=Math.max(0,Math.min(1,l))))}function Q(e,t,s){return[e[0]+(t[0]-e[0])*s,e[1]+(t[1]-e[1])*s]}function H(e,t,s,r){var l,n;let i=r||[];if(function(e,t){let s=e[t+0],r=e[t+1],l=e[t+2],n=e[t+3],i=3*r[0]-2*s[0]-n[0];i*=i;let a=3*r[1]-2*s[1]-n[1];a*=a;let o=3*l[0]-2*n[0]-s[0];o*=o;let h=3*l[1]-2*n[1]-s[1];return h*=h,i<o&&(i=o),a<h&&(a=h),i+a}(e,t)<s){let a=e[t+0];i.length?Math.sqrt(F(l=i[i.length-1],n=a))>1&&i.push(a):i.push(a),i.push(e[t+3])}else{let o=e[t+0],h=e[t+1],u=e[t+2],p=e[t+3],f=Q(o,h,.5),$=Q(h,u,.5),c=Q(u,p,.5),_=Q(f,$,.5),d=Q($,c,.5),g=Q(_,d,.5);H([o,f,_,g],0,s,i),H([g,d,c,p],0,s,i)}return i}function N(e,t){return B(e,0,e.length,t)}function B(e,t,s,r,l){let n=l||[],i=e[t],a=e[s-1],o=0,h=1;for(let u=t+1;u<s-1;++u){let p=Z(e[u],i,a);p>o&&(o=p,h=u)}return Math.sqrt(o)>r?(B(e,t,h+1,r,n),B(e,h,s,r,n)):(n.length||n.push(i),n.push(a)),n}function j(e,t=.15,s){let r=[],l=(e.length-1)/3;for(let n=0;n<l;n++)H(e,3*n,t,r);return s&&s>0?B(r,0,r.length,s):r}let J="none";class K{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(2147483648*Math.random())}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,s){return{shape:e,sets:t||[],options:s||this.defaultOptions}}line(e,t,s,r,l){let n=this._o(l);return this._d("line",[y(e,t,s,r,n)],n)}rectangle(e,t,s,r,l){var n,i,a,o,h,u,p;let f=this._o(l),$=[],c=(n=e,i=t,a=s,o=r,h=f,u=[[n,i],[n+a,i],[n+a,i+o],[n,i+o]],p=h,m(u,!0,p));if(f.fill){let _=[[e,t],[e+s,t],[e+s,t+r],[e,t+r]];"solid"===f.fillStyle?$.push(O([_],f)):$.push(L([_],f))}return f.stroke!==J&&$.push(c),this._d("rectangle",$,f)}ellipse(e,t,s,r,l){let n=this._o(l),i=[],a=w(s,r,n),o=x(e,t,n,a);if(n.fill){if("solid"===n.fillStyle){let h=x(e,t,n,a).opset;h.type="fillPath",i.push(h)}else i.push(L([o.estimatedPoints],n))}return n.stroke!==J&&i.push(o.opset),this._d("ellipse",i,n)}circle(e,t,s,r){let l=this.ellipse(e,t,s,s,r);return l.shape="circle",l}linearPath(e,t){let s=this._o(t);return this._d("linearPath",[m(e,!1,s)],s)}arc(e,t,s,r,l,n,i=!1,a){let o=this._o(a),h=[],u=v(e,t,s,r,l,n,i,!0,o);if(i&&o.fill){if("solid"===o.fillStyle){let p=Object.assign({},o);p.disableMultiStroke=!0;let f=v(e,t,s,r,l,n,!0,!1,p);f.type="fillPath",h.push(f)}else h.push(function(e,t,s,r,l,n,i){let a=e,o=t,h=Math.abs(s/2),u=Math.abs(r/2);h+=I(.01*h,i),u+=I(.01*u,i);let p=l,f=n;for(;p<0;)p+=2*Math.PI,f+=2*Math.PI;f-p>2*Math.PI&&(p=0,f=2*Math.PI);let $=(f-p)/i.curveStepCount,c=[];for(let _=p;_<=f;_+=$)c.push([a+h*Math.cos(_),o+u*Math.sin(_)]);return c.push([a+h*Math.cos(f),o+u*Math.sin(f)]),c.push([a,o]),L([c],i)}(e,t,s,r,l,n,o))}return o.stroke!==J&&h.push(u),this._d("arc",h,o)}curve(e,t){let s=this._o(t),r=[],l=P(e,s);if(s.fill&&s.fill!==J){if("solid"===s.fillStyle){let n=P(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(n.ops)})}else{let i=[],a=e;if(a.length){let o="number"==typeof a[0][0]?[a]:a;for(let h of o)h.length<3?i.push(...h):3===h.length?i.push(...j(V([h[0],h[0],h[1],h[2]]),10,(1+s.roughness)/2)):i.push(...j(V(h),10,(1+s.roughness)/2))}i.length&&r.push(L([i],s))}}return s.stroke!==J&&r.push(l),this._d("curve",r,s)}polygon(e,t){let s=this._o(t),r=[],l=m(e,!0,s);return s.fill&&("solid"===s.fillStyle?r.push(O([e],s)):r.push(L([e],s))),s.stroke!==J&&r.push(l),this._d("polygon",r,s)}path(e,t){let s=this._o(t),r=[];if(!e)return this._d("path",r,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let l=s.fill&&"transparent"!==s.fill&&s.fill!==J,n=s.stroke!==J,i=!!(s.simplification&&s.simplification<1),a=function(e,t,s){let r=d(_(c(e))),l=[],n=[],i=[0,0],a=[],o=()=>{a.length>=4&&n.push(...j(a,1)),a=[]},h=()=>{o(),n.length&&(l.push(n),n=[])};for(let{key:u,data:p}of r)switch(u){case"M":h(),i=[p[0],p[1]],n.push(i);break;case"L":o(),n.push([p[0],p[1]]);break;case"C":if(!a.length){let f=n.length?n[n.length-1]:i;a.push([f[0],f[1]])}a.push([p[0],p[1]]),a.push([p[2],p[3]]),a.push([p[4],p[5]]);break;case"Z":o(),n.push([i[0],i[1]])}if(h(),!s)return l;let $=[];for(let g of l){let k=N(g,s);k.length&&$.push(k)}return $}(e,1,i?4-4*(s.simplification||1):(1+s.roughness)/2),o=S(e,s);if(l){if("solid"===s.fillStyle){if(1===a.length){let h=S(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else r.push(O(a,s))}else r.push(L(a,s))}return n&&(i?a.forEach(e=>{r.push(m(e,!1,s))}):r.push(o)),this._d("path",r,s)}opsToPath(e,t){let s="";for(let r of e.ops){let l="number"==typeof t&&t>=0?r.data.map(e=>+e.toFixed(t)):r.data;switch(r.op){case"move":s+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":s+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":s+=`L${l[0]} ${l[1]} `}}return s.trim()}toPaths(e){let t=e.sets||[],s=e.options||this.defaultOptions,r=[];for(let l of t){let n=null;switch(l.type){case"path":n={d:this.opsToPath(l),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:J};break;case"fillPath":n={d:this.opsToPath(l),stroke:J,strokeWidth:0,fill:s.fill||J};break;case"fillSketch":n=this.fillSketch(l,s)}n&&r.push(n)}return r}fillSketch(e,t){let s=t.fillWeight;return s<0&&(s=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||J,strokeWidth:s,fill:J}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}class U{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new K(t)}draw(e){let t=e.sets||[],s=e.options||this.getDefaultOptions(),r=this.ctx,l=e.options.fixedDecimalPlaceDigits;for(let n of t)switch(n.type){case"path":r.save(),r.strokeStyle="none"===s.stroke?"transparent":s.stroke,r.lineWidth=s.strokeWidth,s.strokeLineDash&&r.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(r.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(r,n,l),r.restore();break;case"fillPath":{r.save(),r.fillStyle=s.fill||"";let i="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,n,l,i),r.restore();break}case"fillSketch":this.fillSketch(r,n,s)}}fillSketch(e,t,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=r,this._drawToContext(e,t,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,s,r="nonzero"){for(let l of(e.beginPath(),t.ops)){let n="number"==typeof s&&s>=0?l.data.map(e=>+e.toFixed(s)):l.data;switch(l.op){case"move":e.moveTo(n[0],n[1]);break;case"bcurveTo":e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"lineTo":e.lineTo(n[0],n[1])}}"fillPath"===t.type?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,s,r,l){let n=this.gen.line(e,t,s,r,l);return this.draw(n),n}rectangle(e,t,s,r,l){let n=this.gen.rectangle(e,t,s,r,l);return this.draw(n),n}ellipse(e,t,s,r,l){let n=this.gen.ellipse(e,t,s,r,l);return this.draw(n),n}circle(e,t,s,r){let l=this.gen.circle(e,t,s,r);return this.draw(l),l}linearPath(e,t){let s=this.gen.linearPath(e,t);return this.draw(s),s}polygon(e,t){let s=this.gen.polygon(e,t);return this.draw(s),s}arc(e,t,s,r,l,n,i=!1,a){let o=this.gen.arc(e,t,s,r,l,n,i,a);return this.draw(o),o}curve(e,t){let s=this.gen.curve(e,t);return this.draw(s),s}path(e,t){let s=this.gen.path(e,t);return this.draw(s),s}}let X="http://www.w3.org/2000/svg";class Y{constructor(e,t){this.svg=e,this.gen=new K(t)}draw(e){let t=e.sets||[],s=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,l=r.createElementNS(X,"g"),n=e.options.fixedDecimalPlaceDigits;for(let i of t){let a=null;switch(i.type){case"path":(a=r.createElementNS(X,"path")).setAttribute("d",this.opsToPath(i,n)),a.setAttribute("stroke",s.stroke),a.setAttribute("stroke-width",s.strokeWidth+""),a.setAttribute("fill","none"),s.strokeLineDash&&a.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&a.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":(a=r.createElementNS(X,"path")).setAttribute("d",this.opsToPath(i,n)),a.setAttribute("stroke","none"),a.setAttribute("stroke-width","0"),a.setAttribute("fill",s.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||a.setAttribute("fill-rule","evenodd");break;case"fillSketch":a=this.fillSketch(r,i,s)}a&&l.appendChild(a)}return l}fillSketch(e,t,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2);let l=e.createElementNS(X,"path");return l.setAttribute("d",this.opsToPath(t,s.fixedDecimalPlaceDigits)),l.setAttribute("stroke",s.fill||""),l.setAttribute("stroke-width",r+""),l.setAttribute("fill","none"),s.fillLineDash&&l.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,s,r,l){let n=this.gen.line(e,t,s,r,l);return this.draw(n)}rectangle(e,t,s,r,l){let n=this.gen.rectangle(e,t,s,r,l);return this.draw(n)}ellipse(e,t,s,r,l){let n=this.gen.ellipse(e,t,s,r,l);return this.draw(n)}circle(e,t,s,r){let l=this.gen.circle(e,t,s,r);return this.draw(l)}linearPath(e,t){let s=this.gen.linearPath(e,t);return this.draw(s)}polygon(e,t){let s=this.gen.polygon(e,t);return this.draw(s)}arc(e,t,s,r,l,n,i=!1,a){let o=this.gen.arc(e,t,s,r,l,n,i,a);return this.draw(o)}curve(e,t){let s=this.gen.curve(e,t);return this.draw(s)}path(e,t){let s=this.gen.path(e,t);return this.draw(s)}}return{canvas:(e,t)=>new U(e,t),svg:(e,t)=>new Y(e,t),generator:e=>new K(e),newSeed:()=>K.newSeed()}}();